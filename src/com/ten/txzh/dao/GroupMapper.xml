<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ten.txzh.dao.GroupMapper">
 	<select id="getGroupUsers" parameterType="int" resultType="java.util.List">
 		select userid from group_user where groupid = #{groupid};
 	</select>
 	
 	<insert id="CreateGroup" parameterType="com.ten.txzh.pojo.Group"  >
 		INSERT INTO `group`(name, introduce, master, image) VALUES(#{name}, #{introduce}, #{master}, #{image});
 	</insert>
 	
 	<insert id="JoinGroup"  parameterType="com.ten.txzh.pojo.Group_User"  >
 		INSERT INTO `group`(groupid,userid) values(#{groupid},#{userid});
 	</insert>
 	
 	<select id="JoinGroupCheck" parameterType="com.ten.txzh.pojo.Group_User" resultType="int">
 		select count(*) from group_user where groupid = #{groupid} and userid = #{userid};
 	</select>
 	
 	<select id="searchGroup" parameterType="String" resultType="com.ten.txzh.pojo.Group">
 		select * from `group` where groupid = #{searchGroupValue} or name like '%#{searchGroupValue}%';
 	</select>
 	
 	<select id="getGroupMaster" parameterType="int" resultType="int">
 		select master from `group` where groupid = #{groupid};
 	</select>
 	
 	<delete id="kickUser" parameterType="com.ten.txzh.pojo.Group_User">
 		delete from group_user where groupid =#{groupid} and  userid =#{userid};
 	</delete>
 	
</mapper>
